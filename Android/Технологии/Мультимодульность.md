# Мультимодульность

## Как сделать #гайд
#### 1. Добавить зависимость android-library
В libs.versions.toml
``` kotlin
[plugins]
...
android-library = { id = "com.android.library", version.ref = "agp"}
...
```
#### 2. Зарегистрировать android-library в build.gradle.kts (project)
``` kotlin
plugins {  
    ...
    alias(libs.plugins.android.library) apply false  
    ...
}
```
#### 3. Создать папку для компонента и build.gradle для него
``` kotlin
app
component
----theme
--------build.gradle.kts
----ui
feature
----account
----leasing
```

``` kotlin
 plugins {  
    alias(libs.plugins.android.library)  // important
    alias(libs.plugins.kotlin.android)  
    alias(libs.plugins.kotlin.compose)  
}  
  
android {  
    namespace = "com.dmitrystonie.leasingapp.component.theme"  // important
    compileSdk = 35  
  
    defaultConfig {  
        minSdk = 24  
  
        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"  
    }  
  
    compileOptions {  
        sourceCompatibility = JavaVersion.VERSION_11  
        targetCompatibility = JavaVersion.VERSION_11  
    }  
    kotlinOptions {  
        jvmTarget = "11"  
    }  
}  
  
dependencies {  // только те, что нужны
  
    implementation(libs.androidx.core.ktx)  
    implementation(platform(libs.androidx.compose.bom))  
    implementation(libs.androidx.ui)  
    implementation(libs.androidx.ui.graphics)  
    implementation(libs.androidx.ui.tooling.preview)  
    implementation(libs.androidx.material3)  
    debugImplementation(libs.ui.tooling)  
    implementation(libs.material3)  
    implementation(libs.androidx.navigation.compose)  
  
}
```
#### 4. Зарегистрировать модуль в settings.gradle.kts
```
...
include(":app")  
...
include(":component:theme")
...
```
#### 5. Создать папки для кода
``` kotlin
app
component
----theme
--------build.gradle.kts
--------src
------------main
----------------java
--------------------com
------------------------dmitrystonie
----------------------------leasingapp
--------------------------------theme    //important, package name
```
src/main/java/com/dmitrystonie/leasingapp/theme
#### 6. Использовать в другом модуле
В build.gradle
``` kotlin
dependencies {  
    ...
    implementation(project(":component:theme"))  
    ...
}
```
Важно, что в модуле app должны быть зависимости на все модули
